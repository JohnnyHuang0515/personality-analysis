# å‰ç«¯æ‡‰ç”¨ - ç¶œåˆäººæ ¼ç‰¹è³ªåˆ†æç³»çµ±

åŸºæ–¼ React + TypeScript çš„ç¾ä»£åŒ–å‰ç«¯æ‡‰ç”¨ï¼Œæä¾›ç›´è§€æ˜“ç”¨çš„äººæ ¼æ¸¬é©—ä»‹é¢ã€‚

## ğŸš€ åŠŸèƒ½ç‰¹è‰²

### æ ¸å¿ƒåŠŸèƒ½
- **å¤šç¨®æ¸¬é©—é¡å‹**ï¼šMBTIã€DISCã€Enneagram äººæ ¼æ¸¬é©—
- **æ™ºèƒ½æ™‚é–“è¨˜æ†¶**ï¼šæš«åœ/æ¢å¾©åŠŸèƒ½ï¼Œè‡ªå‹•ä¿å­˜é€²åº¦
- **å³æ™‚é€²åº¦è¿½è¹¤**ï¼šè¦–è¦ºåŒ–é€²åº¦æ¢å’Œè¨ˆæ™‚å™¨
- **éŸ¿æ‡‰å¼è¨­è¨ˆ**ï¼šæ”¯æ´æ¡Œé¢å’Œç§»å‹•è¨­å‚™
- **ç¾ä»£åŒ–UI**ï¼šåŸºæ–¼ Tailwind CSS çš„ç¾è§€ä»‹é¢

### æŠ€è¡“ç‰¹è‰²
- **React 18**ï¼šæœ€æ–°çš„ React ç‰ˆæœ¬
- **TypeScript**ï¼šé¡å‹å®‰å…¨çš„ JavaScript
- **Tailwind CSS**ï¼šå¯¦ç”¨å„ªå…ˆçš„ CSS æ¡†æ¶
- **React Router**ï¼šå®¢æˆ¶ç«¯è·¯ç”±
- **Axios**ï¼šHTTP å®¢æˆ¶ç«¯

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
frontend/
â”œâ”€â”€ public/                  # éœæ…‹è³‡æº
â”‚   â”œâ”€â”€ index.html          # HTML æ¨¡æ¿
â”‚   â””â”€â”€ favicon.ico         # ç¶²ç«™åœ–æ¨™
â”œâ”€â”€ src/                    # ä¸»è¦ç¨‹å¼ç¢¼
â”‚   â”œâ”€â”€ components/         # React çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ Header.tsx      # é é¢æ¨™é¡Œçµ„ä»¶
â”‚   â”‚   â””â”€â”€ TestCard.tsx    # æ¸¬é©—å¡ç‰‡çµ„ä»¶
â”‚   â”œâ”€â”€ pages/              # é é¢çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ HomePage.tsx    # é¦–é 
â”‚   â”‚   â”œâ”€â”€ TestPage.tsx    # æ¸¬é©—é é¢
â”‚   â”‚   â””â”€â”€ ReportPage.tsx  # å ±å‘Šé é¢
â”‚   â”œâ”€â”€ services/           # API æœå‹™
â”‚   â”‚   â””â”€â”€ api.ts          # API èª¿ç”¨å‡½æ•¸
â”‚   â”œâ”€â”€ contexts/           # React Context
â”‚   â”‚   â””â”€â”€ TestContext.tsx # æ¸¬é©—ç‹€æ…‹ç®¡ç†
â”‚   â”œâ”€â”€ App.tsx             # ä¸»æ‡‰ç”¨çµ„ä»¶
â”‚   â””â”€â”€ index.tsx           # æ‡‰ç”¨å…¥å£
â”œâ”€â”€ package.json            # ä¾è³´é…ç½®
â”œâ”€â”€ tsconfig.json           # TypeScript é…ç½®
â”œâ”€â”€ tailwind.config.js      # Tailwind CSS é…ç½®
â””â”€â”€ postcss.config.js       # PostCSS é…ç½®
```

## ğŸ› ï¸ å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒè¦æ±‚
- Node.js 16+
- npm æˆ– yarn

### 1. å®‰è£ä¾è³´
```bash
npm install
# æˆ–
yarn install
```

### 2. å•Ÿå‹•é–‹ç™¼æœå‹™å™¨
```bash
npm start
# æˆ–
yarn start
```

### 3. è¨ªå•æ‡‰ç”¨
- é–‹ç™¼ç’°å¢ƒï¼šhttp://localhost:3000
- ç¢ºä¿å¾Œç«¯æœå‹™é‹è¡Œåœ¨ http://localhost:8000

## ğŸ§ª æ¸¬è©¦

### é‹è¡Œæ¸¬è©¦
```bash
npm test
# æˆ–
yarn test
```

### æ§‹å»ºç”Ÿç”¢ç‰ˆæœ¬
```bash
npm run build
# æˆ–
yarn build
```

## ğŸ”§ é–‹ç™¼æŒ‡å—

### æ™‚é–“è¨˜æ†¶åŠŸèƒ½

å‰ç«¯å¯¦ç¾äº†ç°¡åŒ–çš„æ™‚é–“è¨˜æ†¶æ©Ÿåˆ¶ï¼š

```typescript
// é é¢é›¢é–‹æ™‚ä¿å­˜æ™‚é–“
const handleBeforeUnload = (event: BeforeUnloadEvent) => {
  if (sessionId) {
    const xhr = new XMLHttpRequest();
    xhr.open('POST', `/api/v1/sessions/${sessionId}/pause`, false);
    xhr.send(JSON.stringify({ elapsed_seconds: timeSpent }));
  }
};

// é é¢é¡¯ç¤ºæ™‚æ¢å¾©æ™‚é–“
const handleVisibilityChange = async () => {
  if (!document.hidden && sessionId) {
    const sessionData = await apiService.getLatestSession(userId, testType);
    setTimeSpent(sessionData.elapsed_seconds);
  }
};
```

### ç‹€æ…‹ç®¡ç†

ä½¿ç”¨ React Context ç®¡ç†æ¸¬é©—ç‹€æ…‹ï¼š

```typescript
const TestContext = createContext<TestContextType | undefined>(undefined);

export const TestProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [currentTest, setCurrentTest] = useState<TestType | null>(null);
  const [testProgress, setTestProgress] = useState<TestProgress | null>(null);
  
  return (
    <TestContext.Provider value={{ currentTest, setCurrentTest, testProgress, setTestProgress }}>
      {children}
    </TestContext.Provider>
  );
};
```

### API æœå‹™

å°è£çš„ API èª¿ç”¨å‡½æ•¸ï¼š

```typescript
export const apiService = {
  getQuestions: (testType: string) => api.get(`/api/v1/questions/${testType}`),
  createSession: (userId: string, testType: string, questionIds: number[]) => 
    api.post('/api/v1/sessions/create', { user_id: userId, test_type: testType, question_ids: questionIds }),
  pauseSession: (sessionId: number, data?: { elapsed_seconds: number }) => 
    api.post(`/api/v1/sessions/${sessionId}/pause`, data),
  // ... å…¶ä»– API å‡½æ•¸
};
```

## ğŸ¨ UI çµ„ä»¶

### æ¸¬é©—å¡ç‰‡çµ„ä»¶
```typescript
interface TestCardProps {
  testType: TestType;
  title: string;
  description: string;
  questionCount: number;
  estimatedTime: string;
  onStart: () => void;
}
```

### é€²åº¦æ¢çµ„ä»¶
```typescript
const ProgressBar: React.FC<{ progress: number }> = ({ progress }) => (
  <div className="w-full bg-gray-200 rounded-full h-2">
    <div 
      className="bg-gradient-to-r from-primary-500 to-secondary-500 h-2 rounded-full transition-all duration-300"
      style={{ width: `${progress}%` }}
    />
  </div>
);
```

## ğŸš€ éƒ¨ç½²

### ç”Ÿç”¢æ§‹å»º
```bash
npm run build
```

### éœæ…‹æ–‡ä»¶éƒ¨ç½²
æ§‹å»ºå¾Œçš„ `build/` ç›®éŒ„åŒ…å«æ‰€æœ‰éœæ…‹æ–‡ä»¶ï¼Œå¯ä»¥éƒ¨ç½²åˆ°ï¼š
- Netlify
- Vercel
- GitHub Pages
- ä»»ä½•éœæ…‹æ–‡ä»¶æœå‹™å™¨

### Docker éƒ¨ç½²
```dockerfile
FROM node:16-alpine

WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production

COPY . .
RUN npm run build

EXPOSE 3000
CMD ["npm", "start"]
```

## ğŸ”§ é…ç½®

### ç’°å¢ƒè®Šæ•¸
å‰µå»º `.env` æª”æ¡ˆï¼š
```env
REACT_APP_API_URL=http://localhost:8000
REACT_APP_ENVIRONMENT=development
```

### Tailwind CSS é…ç½®
```javascript
module.exports = {
  content: ["./src/**/*.{js,jsx,ts,tsx}"],
  theme: {
    extend: {
      colors: {
        primary: { 500: '#3B82F6' },
        secondary: { 500: '#8B5CF6' },
      }
    }
  },
  plugins: [],
}
```

## ğŸ“± éŸ¿æ‡‰å¼è¨­è¨ˆ

æ‡‰ç”¨æ”¯æ´å¤šç¨®è¨­å‚™å°ºå¯¸ï¼š
- **æ¡Œé¢**ï¼šå®Œæ•´åŠŸèƒ½ï¼Œæœ€ä½³é«”é©—
- **å¹³æ¿**ï¼šé©é…è§¸æ§æ“ä½œ
- **æ‰‹æ©Ÿ**ï¼šå‚ç›´ä½ˆå±€ï¼Œè§¸æ§å„ªåŒ–

## ğŸ”’ å®‰å…¨æ€§

- API è«‹æ±‚é©—è­‰
- è¼¸å…¥è³‡æ–™æ¸…ç†
- XSS é˜²è­·
- CSRF ä¿è­·

## ğŸ¤ è²¢ç»

1. Fork å°ˆæ¡ˆ
2. å‰µå»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. é–‹å•Ÿ Pull Request

## ğŸ“„ æˆæ¬Š

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Šæ¢æ¬¾

---

**æœ€å¾Œæ›´æ–°**ï¼š2025-07-19  
**ç‰ˆæœ¬**ï¼šv1.0.0 